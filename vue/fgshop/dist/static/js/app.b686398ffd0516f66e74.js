webpackJsonp([1],{"3nSZ":function(t,a){},"5T2T":function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),r={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var i=e("VU/8")({name:"App"},r,!1,function(t){e("zSvq")},null,null).exports,n=e("/ocq"),o=e("Dd8w"),c=e.n(o),l=e("NYxO"),d=(e("7t+N"),{data:function(){return{isShow:!1}},methods:{removeCart:function(t){this.$store.dispatch("removeCart",t)}},computed:c()({},Object(l.c)(["cart","isLoading"])),created:function(){this.getCart()}}),u={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("router-link",{staticClass:"nav-item nav-link store-name",attrs:{to:"/"}},[t._v("FG Shop")])],1),t._v(" "),e("div",{staticClass:"cart-sm"},[e("div",{staticClass:"cart-icon",on:{click:function(a){t.isShow=!t.isShow}}},[e("i",{staticClass:"fas fa-shopping-cart"}),t._v(" "),0!==t.cart.carts.length?e("i",{staticClass:"fas fa-circle"}):t._e()]),t._v(" "),t.isShow?e("div",{staticClass:"cart-box"},[e("div",{staticClass:"row justify-content-center bg-light border rounded py-3"},[e("div",{staticClass:"col-md-12"},[t._m(0),t._v(" "),e("div",{staticClass:"u-close",on:{click:function(a){t.isShow=!1}}},[e("span"),t._v(" "),e("span")]),t._v(" "),e("table",{staticClass:"table table-sm my-0"},[e("tbody",[0==t.cart.carts.length?e("tr",[t._v("購物車還沒有東西哦！")]):t._e(),t._v(" "),t._l(t.cart.carts,function(a,s){return e("tr",{key:s},[e("td",[e("button",{staticClass:"btn bg-transparent btn-sm d-none d-md-block",attrs:{type:"button"},on:{click:function(e){return t.removeCart(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),e("td",{staticClass:"text-info u-cart-title"},[t._v(t._s(a.product.title))]),t._v(" "),e("td",[t._v(t._s(a.qty)+t._s(a.product.unit))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.final_total)))])])})],2)]),t._v(" "),0!==t.cart.carts.length?e("router-link",{staticClass:"nav-item text-white",attrs:{to:"/createOrder"}},[e("button",{staticClass:"btn btn-danger d-block mx-auto w-100",attrs:{type:"button"},on:{click:function(a){t.isShow=!t.isShow}}},[t._v("結帳去")])]):t._e(),t._v(" "),0==t.cart.carts.length?e("button",{staticClass:"btn btn-danger d-block text-white mx-auto w-100 mt-2",attrs:{type:"button"},on:{click:function(a){t.isShow=!t.isShow}}},[t._v("繼續購物")]):t._e()],1)])]):t._e()]),t._v(" "),e("router-view"),t._v(" "),t._m(1)],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"h5"},[a("b",[this._v("購物車清單")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("footer",{staticClass:"bg-light py-4 text-center"},[a("div",{staticClass:"container"},[a("div",[this._v("ⓒ 2019 FG Shop")])])])}]};var v=e("VU/8")(d,u,!1,function(t){e("fOUg")},null,null).exports,_={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("router-view")],1)},staticRenderFns:[]};var m=e("VU/8")({data:function(){return{}}},_,!1,function(t){e("iUlW")},null,null).exports,p={data:function(){return{products:[]}},methods:{getProducts:function(){var t=this;this.$http.get("https://vue-course-api.hexschool.io/api/frankguoo/products").then(function(a){t.products=a.data.products,console.log(respons)})},getProduct:function(t){var a=this,e="https://vue-course-api.hexschool.io/api/frankguoo/product/"+t;this.$http.get(e).then(function(t){a.products=t.data.products,console.log(respons)})}},created:function(){this.getProducts()}},h={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row mt-4"},t._l(t.products,function(a){return e("div",{key:a.id,staticClass:"col-md-3 mb-3"},[e("div",{staticClass:"card border-0 shadow"},[e("div",{staticClass:"u-item-img",style:{backgroundImage:"url("+a.image+")"}},[e("router-link",{staticClass:"u-item-cover",attrs:{to:"/product/"+a.id}},[e("div",{staticClass:"u-item-btn"},[t._v("See More")])])],1),t._v(" "),e("div",{staticClass:"card-body"},[e("h6",{staticClass:"card-title mt-2"},[e("router-link",{staticClass:"text-dark font-weight-bold",attrs:{to:"/product/"+a.id}},[t._v("\n\t\t            \t"+t._s(a.title)+"\n\t\t            ")])],1),t._v(" "),e("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),t._v(" "),a.origin_price?e("div",{staticClass:"h6 text-right old"},[t._v("原價"),e("span",[t._v(t._s(a.origin_price))])]):t._e(),t._v(" "),a.price?e("div",{staticClass:"h6 text-right"},[t._v("特價"),e("span",[t._v(t._s(a.price))])]):t._e()])])])}),0)])])])},staticRenderFns:[]};var f=e("VU/8")(p,h,!1,function(t){e("UBaP")},null,null).exports,C={data:function(){return{itemId:"",product:{},randomUrl:[]}},methods:{getProduct:function(){var t=this,a="https://vue-course-api.hexschool.io/api/frankguoo/product/"+t.itemId;t.isLoading=!0,this.$http.get(a).then(function(a){t.product=a.data.product,t.product.num=0})},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addtoCart",{id:t,qty:a})}},created:function(){this.itemId=this.$route.params.itemId,this.getProduct(),document.body.scrollTop=350,document.documentElement.scrollTop=350}},g={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("div",{staticClass:"container d-flex"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/"}},[t._v("首頁")])],1),t._v(" "),e("li",{staticClass:"breadcrumb-item"},[t._v(t._s(t.product.category)+"系列")]),t._v(" "),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])])]),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center my-4"},[e("div",{staticClass:"col-md-3 order-md-2 text-center"},[e("img",{staticClass:"img-fluid",attrs:{src:t.product.image,alt:""}})]),t._v(" "),e("div",{staticClass:"col-md-6 order-md-1 mt-4 mt-md-0"},[e("h1",{staticClass:"h3 mb-4"},[t._v(t._s(t.product.title))]),t._v(" "),e("div",{staticClass:"d-flex justify-content-end"},[t.product.price?t._e():e("div",[t._v("$"+t._s(t.product.origin_price))]),t._v(" "),t.product.price?e("del",{staticClass:"mr-2"},[t._v("原價"+t._s(t.product.origin_price))]):t._e(),t._v(" "),t.product.price?e("div",{staticClass:"h5 text-danger"},[t._v("特價"+t._s(t.product.price))]):t._e()]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"d-flex my-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"col-md-7 form-control mr-1",attrs:{name:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.product,"num",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"0",selected:"",disabled:""}},[t._v("請選擇商品數量")]),t._v(" "),t._l(10,function(a){return e("option",{key:a,domProps:{value:a}},[t._v("選購 "+t._s(a)+" "+t._s(t.product.unit))])})],2),t._v(" "),e("button",{staticClass:"btn btn-primary col-md-5 u-pointer",on:{click:function(a){return t.addtoCart(t.product.id,t.product.num)}}},[e("i",{staticClass:"fas fa-plus-circle"}),t._v("\n\t\t\t\t加入購物車\n\t\t\t")])])])]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row justify-content-center mb-4"},[a("div",{staticClass:"col-10"},[a("div",{staticClass:"u-desc text-center"},[a("h4",{},[this._v("商品說明")]),this._v(" "),a("p",[this._v("oasvjoasjfajfaosjfoassijgoaisjg")])])])])}]};var b=e("VU/8")(C,g,!1,function(t){e("5T2T")},null,null).exports,x={data:function(){return{step:1,coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""},orderId:"",order:{user:{name:"",email:"",tel:"",address:""}}}},methods:c()({},Object(l.b)(["getCart","removeAllCart"]),{removeCart:function(t){this.$store.dispatch("removeCart",t)},addCoupon:function(){this.$store.dispatch("addCoupon",this.coupon_code)},stepChange:function(t){document.body.scrollTop=0,document.documentElement.scrollTop=0,1==this.step?this.step=2:"prev"==t?this.step-=1:this.step+=1},createOrder:function(){var t=this,a=this,e=a.form;this.$validator.validate().then(function(s){s?t.$http.post("https://vue-course-api.hexschool.io/api/frankguoo/order",{data:e}).then(function(t){t.data.success?(a.step=3,a.orderId=t.data.orderId,a.getOrder(),a.$store.dispatch("getCart"),alert("訂單已建立!")):alert("訂單建立失敗!")}):alert("訂單欄位不完整")})},getOrder:function(){var t=this,a="https://vue-course-api.hexschool.io/api/frankguoo/order/"+t.orderId;this.$http.get(a).then(function(a){t.order=a.data.order})},payOrder:function(){var t=this,a="https://vue-course-api.hexschool.io/api/frankguoo/pay/"+t.orderId;this.$http.post(a).then(function(a){a.data.success&&t.getOrder()})}}),computed:c()({},Object(l.c)(["cart","isLoading"]),{cartEmpty:function(){return 0==this.cart.carts.length}}),created:function(){this.getCart()}},y={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"row justify-content-center mt-4 mb-0 mb-md-4"},[e("div",{staticClass:"col-md-10"},[t._m(0),t._v(" "),e("div",{staticClass:"row justify-content-center mt-4 text-center"},[e("div",{staticClass:"col-md-4"},[e("span",{staticClass:"step",class:{"current-step":1==t.step}},[t._v("1. 確認購買清單")])]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("span",{staticClass:"step",class:{"current-step":2==t.step}},[t._v("2. 填寫收件資料")])]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("span",{staticClass:"step",class:{"current-step":3==t.step}},[t._v("3. 完成訂單！")])])])])]),t._v(" "),1==t.step?e("div",{staticClass:"row justify-content-center mb-4"},[e("div",{staticClass:"col-md-10"},[e("table",{staticClass:"table mt-4"},[e("thead",[t.cartEmpty?t._e():e("th",{staticClass:"text-center"},[e("div",{staticClass:"u-clear text-danger",on:{click:function(a){return t.removeAllCart()}}},[e("i",{staticClass:"far fa-trash-alt mr-1"}),t._v(" "),e("b",{staticClass:"d-none d-md-inline-block"},[t._v("全部清空")])])]),t._v(" "),e("th",[t._v("商品")]),t._v(" "),e("th",[t._v("數量")]),t._v(" "),t.cart.final_total!==t.cart.total?e("th",[t._v("折扣價")]):e("th",{staticClass:"text-right"},[t._v("售價")])]),t._v(" "),e("tbody",[t.cartEmpty?e("tr",[t._v("購物車還沒有東西哦！")]):t._e(),t._v(" "),t._l(t.cart.carts,function(a,s){return e("tr",{key:s},[e("td",{staticClass:"align-middle text-center"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeCart(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v("\n\t\t\t        "+t._s(a.product.title)+"\n\t\t\t        "),a.coupon?e("div",{staticClass:"text-success"},[t._v("已套用優惠券\t")]):t._e()]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+t._s(a.product.unit))]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(a.final_total)))])])})],2),t._v(" "),t.cartEmpty?t._e():e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計金額")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.total)))])]),t._v(" "),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣後金額")]),t._v(" "),e("td",{staticClass:"text-right text-success"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]):t._e(),t._v(" "),t._m(1)])]),t._v(" "),t.cartEmpty?t._e():e("div",{staticClass:"input-group mb-3 input-group-sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control py-2 pl-3",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.addCoupon}},[t._v("套用優惠碼")])])])])]):t._e(),t._v(" "),2==t.step?e("div",{staticClass:"row justify-content-center mb-4"},[e("div",{staticClass:"col-md-8 mb-4"},[e("div",{attrs:{id:"accordion"}},[e("div",{staticClass:"card"},[t._m(2),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("table",{staticClass:"table my-2"},[e("thead",[e("th",[t._v("商品")]),t._v(" "),e("th",{attrs:{width:"60"}},[t._v("數量")]),t._v(" "),t.cart.final_total!==t.cart.total?e("th",{attrs:{"min-width":"60"}},[t._v("折扣價")]):e("th",{staticClass:"text-right",attrs:{"min-width":"60"}},[t._v("售價")])]),t._v(" "),e("tbody",t._l(t.cart.carts,function(a,s){return e("tr",{key:s},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+t._s(a.product.unit))]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(a.final_total)))])])}),0),t._v(" "),e("tfoot",[e("tr",{staticClass:"text-danger"},[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t.cart.final_total==t.cart.total?e("span",[t._v("總計金額")]):e("span",[t._v("折扣後金額")])]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])])])])])])])])]),t._v(" "),e("form",{staticClass:"col-md-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),t._v(" "),t.errors.has("email")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),t._v(" "),t.errors.has("name")?e("span",{staticClass:"text-danger"},[t._v("姓名欄位不可空白")]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"address",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),t._v(" "),t.errors.has("address")?e("span",{staticClass:"text-danger"},[t._v("地址欄位不可空白")]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("留言")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})])])]):t._e(),t._v(" "),3==t.step?e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[e("table",{staticClass:"table"},[t._m(3),t._v(" "),e("tbody",t._l(t.order.products,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.final_total))])])}),0),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),t._v(" "),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",[t._v("Email")]),t._v(" "),e("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),e("tr",[e("th",[t._v("姓名")]),t._v(" "),e("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),e("tr",[e("th",[t._v("收件人電話")]),t._v(" "),""==t.order.user.tel?e("td",[t._v("未填寫")]):e("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),e("tr",[e("th",[t._v("收件人地址")]),t._v(" "),e("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),e("tr",[e("th",[t._v("付款狀態")]),t._v(" "),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),t._v(" "),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[t._v("確認付款去")])]):t._e()])]):t._e(),t._v(" "),e("div",{staticClass:"row justify-content-center my-4"},[0!==t.cart.total?e("div",{staticClass:"col-md-6 order-md-2 u-orderbtn-step"},[2==t.step?e("button",{staticClass:"btn btn-info d-block mr-2",attrs:{type:"button"},on:{click:function(a){return t.stepChange("prev")}}},[t._v("\n\t\t\t\t上一步\n\t\t\t")]):t._e(),t._v(" "),1==t.step?e("button",{staticClass:"btn btn-info d-block",attrs:{type:"button"},on:{click:function(a){return t.stepChange()}}},[t._v("\n\t\t\t\t下一步：填寫收件資料\n\t\t\t")]):t._e(),t._v(" "),2==t.step?e("button",{staticClass:"btn btn-danger d-block",attrs:{type:"button"},on:{click:function(a){return t.createOrder()}}},[t._v("\n\t\t\t\t下一步：完成訂單！\n\t\t\t")]):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"order-md-1 u-orderbtn-shop",class:{"col-md-4":0!==t.cart.total}},[e("router-link",{staticClass:"nav-item btn btn-outline-info d-inline-block",attrs:{to:"/"}},[t._v(" << 我要繼續逛")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{staticClass:"text-center"},[a("b",[this._v("購物車清單")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("tr",[a("td",{staticClass:"text-primary font-weight-bold",attrs:{colspan:"4"}},[a("i",{staticClass:"fab fa-angellist"}),a("i",{staticClass:"fab fa-angellist"}),a("i",{staticClass:"fab fa-angellist"}),this._v("\n\t\t\t      \t首次購物享有免運費優惠！\n\t\t\t      ")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[this._v("查看購物車明細")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("th",[this._v("品名")]),this._v(" "),a("th",[this._v("數量")]),this._v(" "),a("th",[this._v("單價")])])}]};var w=e("VU/8")(x,y,!1,function(t){e("3nSZ")},null,null).exports;s.a.use(n.a);var k=new n.a({routes:[{path:"/",name:"Home",component:v,children:[{path:"",name:"Shop",component:m,children:[{path:"",name:"AllItem",component:f},{path:"product/:itemId",name:"SingleItem",component:b}]},{path:"createOrder",name:"CreateOrder",component:w}]}]}),$=(e("K3J8"),e("mtWM")),O=e.n($),E=e("Rf8U"),N=e.n(E);s.a.use(l.a);var I=new l.a.Store({strict:!0,state:{cart:{carts:[]},isLoading:!1},actions:{getCart:function(t){t.commit("LOADING",!0),O.a.get("https://vue-course-api.hexschool.io/api/frankguoo/cart").then(function(a){t.commit("GETCART",a.data.data),t.commit("LOADING",!1)})},removeCart:function(t,a){var e="https://vue-course-api.hexschool.io/api/frankguoo/cart/"+a;t.commit("LOADING",!0),O.a.delete(e).then(function(a){t.dispatch("getCart"),t.commit("LOADING",!1)})},addtoCart:function(t,a){var e=a.id,s=a.qty;if(0==s)alert("請選擇商品數量");else{var r={product_id:e,qty:s};O.a.post("https://vue-course-api.hexschool.io/api/frankguoo/cart",{data:r}).then(function(a){t.dispatch("getCart"),alert("已加入購物車！")})}},removeAllCart:function(t){t.commit("LOADING",!0),t.state.cart.carts.forEach(function(a){var e="https://vue-course-api.hexschool.io/api/frankguoo/cart/"+a.id;O.a.delete(e).then(function(a){t.dispatch("getCart"),t.commit("LOADING",!1)})})},addCoupon:function(t,a){var e={code:a};t.commit("LOADING",!0),O.a.post("https://vue-course-api.hexschool.io/api/frankguoo/coupon",{data:e}).then(function(a){alert(a.data.message),t.dispatch("getCart"),t.commit("LOADING",!1)})}},mutations:{LOADING:function(t,a){t.isLoading=a},GETCART:function(t,a){t.cart=a}},getters:{isLoading:function(t){return t.isLoading},cart:function(t){return t.cart}}});s.a.config.productionTip=!1,s.a.filter("currency",function(t){return"$"+Number(t).toFixed(0).replace(/./g,function(t,a,e){return a&&"."!==t&&(e.length-a)%3==0?(", "+t).replace(/\s/g,""):t})}),s.a.use(N.a,O.a),s.a.use(l.a),new s.a({el:"#app",router:k,store:I,components:{App:i},template:"<App/>"})},UBaP:function(t,a){},fOUg:function(t,a){},iUlW:function(t,a){},zSvq:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.b686398ffd0516f66e74.js.map